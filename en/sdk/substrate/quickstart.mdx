---
title: "Substrate Quickstart"
description: "Build a Substrate blockchain indexer in 5 minutes with Squid SDK"
---

# Substrate Quickstart

This 5-minute tutorial shows you how to build a Substrate indexer using Squid SDK. You'll create a complete blockchain indexer that fetches, decodes, and serves Substrate chain data.

## What you'll build

Your Substrate indexer (squid) will:

- Fetch historical Substrate events and calls from the SQD Network
- Decode pallet-specific data with runtime version awareness
- Save the data to a local PostgreSQL database
- Start a GraphQL server with a rich API to query the indexed data

<Note>
  This tutorial focuses on Substrate chains like Polkadot and Kusama. For other
  chains, see the [EVM Quickstart](/sdk/evm/quickstart) or [Solana
  Quickstart](/sdk/solana/quickstart).
</Note>

## Prerequisites

Before you begin, ensure you have:

- **Node.js v18+** - [Download here](https://nodejs.org/)
- **Git** - [Download here](https://git-scm.com/)
- **Docker** - [Download here](https://www.docker.com/) (for running PostgreSQL)
- **WSL** (Windows only) - [Install WSL](https://learn.microsoft.com/en-us/windows/wsl/install)

<Steps>
<Step title="Install Squid CLI">

Install the Squid CLI globally:

```bash
npm i -g @subsquid/cli
```

<Check>Verify installation by running `sqd --version`</Check>

<Tip>
  Squid CLI is a multi-purpose utility tool for scaffolding and managing
  indexers, both locally and in SQD Cloud.
</Tip>

</Step>

<Step title="Scaffold the indexer project">

Create a new Substrate squid project:

```bash
sqd init hello-substrate-squid -t substrate
cd hello-substrate-squid
```

<Note>
  The template provides a pre-configured project structure for indexing
  Substrate-based blockchains.
</Note>

</Step>

<Step title="Inspect the project structure">

Explore the `./src` folder:

```bash
src/
├── main.ts
├── processor.ts
└── model
    ├── generated
    │   ├── index.ts
    │   └── transfer.model.ts
    └── index.ts
```

<Info>
  **Key files explained:** - `src/model/` - TypeORM model classes auto-generated
  from `schema.graphql` for database operations - `processor.ts` - Processor
  configuration for data retrieval - `main.ts` - Main executable containing
  processing logic
</Info>

The processor configuration for Substrate:

```typescript processor.ts
export const processor = new SubstrateBatchProcessor()
  // SQD Network gateway for the Substrate chain
  .setGateway("https://v2.archive.subsquid.io/network/polkadot")
  // Optional RPC endpoint for real-time data
  .setRpcEndpoint("<substrate-rpc-endpoint>")
  // Configure block range
  .setBlockRange({ from: 1000000 })
  // Add events to index
  .addEvent({
    name: ["Balances.Transfer"],
    call: true,
    extrinsic: true,
  })
  // Select fields to retrieve
  .setFields({
    event: {
      args: true,
      extrinsic: {
        hash: true,
        fee: true,
      },
    },
  });
```

The data processing and storage logic:

```typescript main.ts
processor.run(new TypeormDatabase({ supportHotBlocks: true }), async (ctx) => {
  const transfers = [];

  for (let block of ctx.blocks) {
    for (let event of block.events) {
      if (event.name === "Balances.Transfer") {
        // Decode event data with runtime version awareness
        const { from, to, amount } = getTransferEvent(ctx, event);

        transfers.push(
          new Transfer({
            id: event.id,
            blockNumber: block.header.height,
            timestamp: new Date(block.header.timestamp),
            extrinsicHash: event.extrinsic?.hash,
            from,
            to,
            amount,
          })
        );
      }
    }
  }

  // Batch insert all transfers
  await ctx.store.save(transfers);
});
```

</Step>

<Step title="Install dependencies and build">

Install dependencies and build the project:

```bash
npm i
npm run build
```

<Check>
  Verify the build completed successfully by checking for the `lib/` directory.
</Check>

</Step>

<Step title="Start the database and processor">

The processor continuously fetches data, decodes it, and stores it in PostgreSQL. All logic is defined in `main.ts` and is fully customizable.

First, start a local PostgreSQL database (the template includes a Docker Compose file):

```bash
docker compose up -d
```

<Warning>
  The processor connects to PostgreSQL using connection parameters from `.env`.
  Ensure the database is running before proceeding.
</Warning>

Apply database migrations:

```bash
npx squid-typeorm-migration apply
```

Then start the processor:

```bash
node -r dotenv/config lib/main.js
```

<Check>
  The indexer is now running and will begin processing Substrate blocks.
</Check>

</Step>

<Step title="Start the GraphQL API">

Start the GraphQL API to serve the indexed data:

```bash
npx squid-graphql-server
```

<Check>
  The GraphQL playground is available at
  [localhost:4350/graphql](http://localhost:4350/graphql)
</Check>

</Step>

<Step title="Query the data">

You can now query your indexed Substrate data! Try this example query in the GraphQL playground:

```graphql
{
  transfers(limit: 10) {
    id
    blockNumber
    timestamp
    from
    to
    amount
  }
}
```

<Check>
  Congratulations! You've successfully built and deployed your first Substrate
  blockchain indexer.
</Check>

</Step>
</Steps>
