---
title: "EVM Reference"
description: "Complete API reference for building EVM blockchain indexers with Squid SDK"
---

# EVM Reference

Complete API reference documentation for building EVM indexers with Squid SDK.

<Info>
  This reference covers the core components, methods, and patterns for indexing
  Ethereum and EVM-compatible blockchains.
</Info>

## Core Components

<CardGroup cols={2}>
  <Card title="EvmBatchProcessor" href="/en/sdk/reference/processors/evm-batch">
    Main processor class for EVM chains
  </Card>
  <Card title="TypeORM Store" href="/en/sdk/reference/store/typeorm">
    Database persistence layer
  </Card>
</CardGroup>

## Data Sources

<CardGroup cols={2}>
  <Card title="SQD Network" href="/en/sdk/reference/datasources/sqd-network">
    High-performance blockchain data gateway
  </Card>
  <Card title="RPC Endpoints" href="/en/sdk/reference/datasources/rpc">
    Direct blockchain RPC integration
  </Card>
</CardGroup>

## Code Generation

<CardGroup cols={2}>
  <Card title="EVM Typegen" href="/en/sdk/reference/typegen/evm">
    Generate TypeScript code from ABIs
  </Card>
  <Card title="TypeORM Codegen" href="/en/sdk/reference/codegen/typeorm">
    Generate database models from GraphQL schema
  </Card>
</CardGroup>

## API Reference

### EvmBatchProcessor Methods

- `setGateway(url)` - Configure SQD Network gateway
- `setRpcEndpoint(url)` - Set RPC endpoint for real-time data
- `setFinalityConfirmation(blocks)` - Configure finality depth
- `addLog(options)` - Subscribe to event logs
- `addTransaction(options)` - Subscribe to transactions
- `addTrace(options)` - Subscribe to transaction traces
- `setFields(fields)` - Select data fields to retrieve

### Data Types

- **Block**: Blockchain block data structure
- **Log**: Event log with decoded data
- **Transaction**: Transaction data and metadata
- **Trace**: Internal transaction traces

## Configuration Options

### Processor Configuration

```typescript main.ts
const processor = new EvmBatchProcessor()
  .setGateway("https://v2.archive.subsquid.io/network/ethereum-mainnet")
  .setRpcEndpoint("https://rpc.ankr.com/eth")
  .setFinalityConfirmation(75);
```

<Note>
  Configure your gateway endpoint based on the network you're indexing. See the
  [supported networks](/subsquid-network/reference/networks) list.
</Note>

### Data Selection

```typescript main.ts
processor
  .addLog({
    address: ["0x..."],
    topic0: ["0x..."],
    range: { from: 1000000 },
  })
  .setFields({
    log: {
      transactionHash: true,
      block: {
        timestamp: true,
      },
    },
  });
```

<Tip>
  Select only the fields you need to minimize data transfer and improve indexing
  performance.
</Tip>

## Best Practices

Follow these best practices for optimal EVM indexer performance:

- **Use SQD Network gateways** for optimal performance and reliability
- **Configure appropriate finality confirmation** to balance speed and chain reorganization handling
- **Select only required data fields** to minimize bandwidth and processing overhead
- **Implement proper error handling** for network failures and data inconsistencies
- **Use batch processing** for efficient database operations

<Warning>
  Always test your indexer locally before deploying to production to catch
  configuration issues early.
</Warning>
